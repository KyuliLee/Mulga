
**Spring Cloud Config**λ” λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ²(MSA) ν™κ²½μ—μ„ μ—¬λ¬ μ„λΉ„μ¤μΒ **μ™Έλ¶€ μ„¤μ •**μ„ μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•λ” λ° μ‚¬μ©λλ” μ†”λ£¨μ…μ…λ‹λ‹¤. 

- μ΄λ¥Ό ν†µν•΄Β **μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ •**(μ: λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ •λ³΄, API μ—”λ“ν¬μΈνΈ λ“±)μ„Β **ν•λ“μ½”λ”©**ν•λ” λ€μ‹ , μ¤‘μ•™ν™”λ μ €μ¥μ†μ—μ„ κ΄€λ¦¬ν•κ³ ,
- μ„λΉ„μ¤κ°€ μ‹¤ν–‰λ  λ• λ™μ μΌλ΅ ν•΄λ‹Ή μ„¤μ •μ„ λ¶λ¬μ¬ μ μμµλ‹λ‹¤.

---

### **μ£Όμ” νΉμ§•**

1. **μ¤‘μ•™ν™”λ μ„¤μ • κ΄€λ¦¬**:
    - Spring Cloud Configλ” μ—¬λ¬ λ§μ΄ν¬λ΅μ„λΉ„μ¤μ—μ„ μ‚¬μ©λλ” μ„¤μ •μ„Β **μ¤‘μ•™ν™”λ μ €μ¥μ†**(Git, SVN λ“±)μ— μ €μ¥ν•κ³ , μ΄λ¥Ό μ—¬λ¬ μ„λΉ„μ¤μ—μ„ μ½μ–΄μ¬ μ μκ² ν•©λ‹λ‹¤.
    - λν•, κ° ν™κ²½ (κ°λ°, ν…μ¤νΈ, ν”„λ΅λ•μ… λ“±)μ— λ€ν• μ„¤μ •μ„ μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.
    - μ΄λ¥Ό ν†µν•΄ μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ •μ μΌκ΄€μ„±μ„ μ μ§€ν•κ³ , μ„¤μ • λ³€κ²½μ„ μ†μ‰½κ² ν•  μ μμµλ‹λ‹¤.
    - νΉν, μ—¬λ¬ λ…μ΄ κ°λ°ν•λ” μƒν™©μ—μ„ **κ°λ°μλ§λ‹¤ λ΅μ»¬ ν™κ²½ μ„¤μ •μ΄ λ‹¬λΌλ„** μ„λ²„μ—μ„ κ΄€λ¦¬λλ” μ„¤μ •μ„ ν†µν•΄ μΌκ΄€μ„±μ„ μ μ§€ν•  μ μμµλ‹λ‹¤.
2. **λ²„μ „ κ΄€λ¦¬**:
    - μ„¤μ • νμΌμ„Β **Git**Β λ¦¬ν¬μ§€ν† λ¦¬ λ“± λ²„μ „ κ΄€λ¦¬ μ‹μ¤ν…μ— μ €μ¥ν•¨μΌλ΅μ¨, μ„¤μ •μ λ²„μ „ κ΄€λ¦¬ λ° νμ¤ν† λ¦¬λ¥Ό κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤. μ΄λ” μ„¤μ •μ„ μ¶”μ ν•κ³  λ΅¤λ°±ν•  μ μλ” μ¥μ μ΄ μμµλ‹λ‹¤.
3. **μ„¤μ • λ³€κ²½ μ‹ μ• ν”λ¦¬μΌ€μ΄μ… μ¬λ°°ν¬ μ—†μ΄ μ μ© κ°€λ¥**:
    - μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ‹¤ν–‰ μ¤‘μΌ λ•, μ„¤μ •μ„ λ³€κ²½ν• ν›„Β **λ™μ μΌλ΅ μ¬μ‹μ‘ μ—†μ΄ μ„¤μ •μ„ λ°μ**ν•  μ μμµλ‹λ‹¤. Spring Cloud Config μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ μ„λΉ„μ¤κ°€ ν•„μ”ν•  λ• μµμ‹  μ„¤μ •μ„ μ κ³µν•  μ μμµλ‹λ‹¤.
4. **ν”„λ΅νμΌ μ§€μ›**:
    - Spring Profilesμ„ μ§€μ›ν•μ—¬Β **κ°λ°, ν…μ¤νΈ, μ΄μ ν™κ²½**Β λ“± κ° ν™κ²½μ— λ§λ” μ„¤μ •μ„ λ¶„λ¦¬ν•μ—¬ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.
5. **μ• ν”λ¦¬μΌ€μ΄μ… μ™Έλ¶€ν™”**:
    - μ„¤μ •μ„ μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄λ¶€κ°€ μ•„λ‹ μ™Έλ¶€μ— μ €μ¥ν•μ—¬, μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“μ™€ μ„¤μ •μ„ λ¶„λ¦¬ν•  μ μμµλ‹λ‹¤. μ΄λ” μ„¤μ •μ λ³€κ²½μ„ μ½”λ“μ μμ • μ—†μ΄λ„ κ°€λ¥ν•κ² ν•©λ‹λ‹¤.
    

---

### Spring Cloud Configμ λ‹¨μ 

- **μ¤‘μ•™ν™”λ μμ΅΄μ„±**:
    - Spring Cloud Config μ„λ²„λ” μ¤‘μ•™ν™”λ μ„¤μ • μ €μ¥μ† μ—­ν• μ„ ν•κΈ° λ•λ¬Έμ—, λ§μ•½Β **Config μ„λ²„μ— λ¬Έμ κ°€ λ°μƒ**ν•λ©΄ λ¨λ“  λ§μ΄ν¬λ΅μ„λΉ„μ¤κ°€ μ„¤μ •μ„ λ΅λ“ν•  μ μ—†κ² λ©λ‹λ‹¤. μ΄λ΅ μΈν•΄ **λ‹¨μΌ μ‹¤ν¨ μ§€μ (Single Point of Failure, SPOF)**κ°€ λ  μ μμµλ‹λ‹¤.
    - μ΄λ¥Ό ν•΄κ²°ν•λ ¤λ©΄Β **Config μ„λ²„μ κ³ κ°€μ©μ„±(HA) μ„¤μ •**κ³ΌΒ **λ°±μ—…**μ„ κ³ λ ¤ν•΄μ•Ό ν•©λ‹λ‹¤.
- **μ„±λ¥ λ¬Έμ **:
    - **Git**μ„ μ €μ¥μ†λ΅ μ‚¬μ©ν•  κ²½μ°, **μ €μ¥μ†μ—μ„ μ„¤μ •μ„ μ½μ–΄μ¤λ” μ‹κ°„μ΄ λ°μƒ**ν•©λ‹λ‹¤. μ΄λ΅ μΈν•΄ μ„λΉ„μ¤ μ‹μ‘ μ‹ μ„¤μ •μ„ κ°€μ Έμ¤λ” λ° μ‹κ°„μ΄ κ±Έλ¦΄ μ μκ³ , νΉν μ„¤μ •μ΄ μμ£Ό λ³€κ²½λλ©΄ μ„±λ¥μ΄ μ €ν•λ  μ μμµλ‹λ‹¤.
    - μ΄λ¥Ό ν•΄κ²°ν•λ ¤λ©΄Β **μΊμ‹±**μ΄λ‚Β **μ„¤μ • λ³€κ²½ κ°„κ²©**μ„ μ΅°μ •ν•λ” λ°©μ‹μΌλ΅ μ„±λ¥μ„ κ°μ„ ν•  μ μμµλ‹λ‹¤.
- **λ³΄μ• λ¬Έμ **:
    - λ―Όκ°ν• μ •λ³΄λ¥Ό Gitκ³Ό κ°™μ€ λ¦¬ν¬μ§€ν† λ¦¬μ— μ €μ¥ν•λ” κ²ƒμ€ λ³΄μ•μ— μ·¨μ•½ν•  μ μμµλ‹λ‹¤. **λ―Όκ°ν• μ •λ³΄λ” λ³„λ„μ λ³΄μ• λ©”μ»¤λ‹μ¦(μ:Β Vault,Β ν™κ²½ λ³€μ)μΌλ΅ λ³΄νΈ**ν•΄μ•Ό ν•©λ‹λ‹¤.
    - Spring Cloud Config μμ²΄μ—μ„λ” λ―Όκ°ν• λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•  μ μμ§€λ§, μ΄λ¥Ό μλ» κµ¬μ„±ν•  κ²½μ° λ³΄μ• λ¬Έμ κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.
        - μλ¥Ό λ“¤μ–΄, μ•”νΈν™” ν‚¤κ°€Β **λ…Έμ¶**λκ±°λ‚Β **λ¶€μ μ ν• λ°©μ‹**μΌλ΅ κ΄€λ¦¬λλ©΄ μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό μ‰½κ² λ³µνΈν™”ν•  μ μκ² λμ–΄ λ―Όκ°ν• μ •λ³΄κ°€Β **μ μ¶**λ  μ μμµλ‹λ‹¤.

---

## μ‘λ™ λ°©μ‹

![image.png](./img/image.png)

### μ—…λ°μ΄νΈλ μ„¤μ •μ€ ν΄λΌμ΄μ–ΈνΈ μ–΄ν”λ¦¬μΌ€μ΄μ…μ— μ–΄λ–»κ² μ μ©ν• κΉ?

1οΈβƒ£ **μ§μ ‘ client applicationμ— μ—…λ°μ΄νΈν•λΌλ” μ”μ²­ λ³΄λ‚΄λ” λ°©μ‹**

κΉƒμ— μ €μ¥λμ–΄μλ” yaml νμΌμ΄ λ³€κ²½λμ—μ„ λ•, κ΄€λ ¨ μμ΅΄μ„± λ° λΉλ“¤λ„ μ—…λ°μ΄νΈν•΄μ¤μ•Ό ν•λ‹¤. 

ν•μ§€λ§, client application μ…μ¥μ—μ„  μ„¤μ •μ΄ λ³€ν–λ‹¤λ” κ²ƒμ„ μ• λ°©λ„κ°€ μ—†λ‹¤. κ·Έλ ‡κΈ°μ— client applicationμ—κ² μ„¤μ •μ„ μ—…λ°μ΄νΈν•λΌλ” μ•λ¦Όμ„ λ³΄λ‚΄μ¤μ•Ό ν•λ‹¤. 

κ·Έ λ°©μ‹μ΄ λ°”λ΅ `/actuator/refresh`Β μ—”λ“ν¬μΈνΈλ΅, client application μ„λ²„ν•ν… ν•΄λ‹Ή μ—”λ“ν¬μΈνΈλ΅ post μ”μ²­μ„ λ³΄λ‚΄λ©΄ `@RefreshScope` μ΄ ν• λ‹Ήλ λΉλ“¤μ— λ€ν•΄μ„λ§ μ—…λ°μ΄νΈκ°€ λλ‹¤.

```bash
$ curl -X POST "http://localhost:8080/actuator/refresh"
```

2οΈβƒ£ **λ©”μ„Έμ§• νλ¥Ό ν™μ©ν•΄ λ¨λ“  ν΄λΌμ΄μ–ΈνΈ μ–΄ν”λ¦¬μΌ€μ΄μ…λ“¤μ„ λ¨λ‘ ν•λ²μ— μ—…λ°μ΄νΈν•λ” λ°©μ‹ (Spring Cloud Bus)**

ν•μ§€λ§, MSA ν™κ²½μ—μ„λ” μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ μ—¬λ¬ κ°μΌ ν™•λ¥ μ΄ λ†’μ€λ°, λ¨λ“  μ„λΉ„μ¤ν•ν… μΌμΌμ΄ post μ”μ²­ λ³΄λ‚΄λ” κ±΄ λ§¤μ° κ·€μ°®μ€ μΌμ΄λ‹¤. μ΄λ¥Ό ν•΄κ²°ν•  μ μλ” λ°©λ²•μ€ λ°”λ΅ λ©”μ„Έμ§• νλ¥Ό μ‚¬μ©ν•λ” Spring Cloud Bus λ°©λ²•μ΄λ‹¤.

μ„¤μ •μ΄ μ—…λ°μ΄νΈλμ—μ„ λ•, ν• ν΄λΌμ΄μ–ΈνΈμ `actuator/bus-refresh` μ—”λ“ν¬μΈνΈλ¥Ό νΈμ¶ν•λ©΄, μλ™μ μΌλ΅ λ©”μ„Έμ§• νμ— μ—°κ²°λ λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ“¤μ—μ„ μ„¤μ •κ°’μ΄ κ°±μ‹ λλ‹¤. λ©”μ„Έμ§• νκ°€ λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈλ“¤μ—κ² μ„¤μ • μ—…λ°μ΄νΈν•λΌλ” μ•λ¦Όμ„ λ€μ‹  λ³΄λ‚΄μ£Όλ” μ—­ν• μ„ ν•λ” κ²ƒμ΄λ‹¤. 

![image-1.png](./img/image-1.png)

3οΈβƒ£ **Config Server μλ™ μ—…λ°μ΄νΈ λ°©μ‹**

ν•μ§€λ§ μ„ λ‘ λ°©μ‹μ€ λ¨λ‘ ν΄λ¦¬μ•„μ–ΈνΈ μ–΄ν”λ¦¬μΌ€μ΄μ…λ“¤μ΄ μ”μ²­ν•  λ•λ§λ‹¤ config serverλ” gitμ— μ ‘κ·Όν•μ—¬ μ„¤μ •κ°’μ„ μ½μ–΄μ™€μ•Όν•λ‹¤. μ΄λ” μ–΄ν”λ¦¬μΌ€μ΄μ… μ‹μ‘ μ‹ λ΅λ”© μ‹κ°„μ΄ κΈΈλ‹¤λ” λ‹¨μ μ΄ μ΅΄μ¬ν•λ‹¤. λ”λ¶μ–΄, μλ™μ μΌλ΅ μ–΄ν”λ¦¬μΌ€μ΄μ…λ“μ—κ² μ”μ²­μ„ ν•΄μ•Όλ§ μ—…λ°μ΄νΈκ°€ λλ” λ°©μ‹μ΄λ‹¤.

κ·Έλ ‡λ‹¤λ©΄ μλ™μ μΌλ΅ spring cloud config serverλ¥Ό μ—…λ°μ΄νΈν•λ©΄μ„λ„, μ„¤μ • κ°’μ„ λ”μ± λΉ¨λ¦¬ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—κ² μ „λ‹¬ν•λ” λ°©λ²•μ΄ μ—†μ„κΉ?

μ°μ„  μ„¤μ •κ°’λ“¤μ„ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—κ² λΉ¨λ¦¬ μ „λ‹¬ν•λ” λ°©λ²•μ€ `clone-on-start: true` ν•λ” κ²ƒμ΄λ‹¤. μ΄ μ„¤μ •μ€ config serverκ°€ μ²μ μ‹μ‘ν•  λ•λ§ μ €μ¥μ†λ¥Ό ν΄λ΅ ν•΄μ„ λ΅μ»¬μ— μ €μ¥ν•κ³ , μ–΄ν”λ¦¬μΌ€μ΄μ…λ“¤μ΄ μ”μ²­ λ•λ§λ‹¤ κΉƒμ— κ°€μ§€ μ•κ³  λ°”λ΅ λ°ν™ν•΄μ¤€λ‹¤.

ν•μ§€λ§ μ—¬κΈ°μ„ λ¬Έμ λ”, λ§μ•½ μ„¤μ •μ΄ μ—…λ°μ΄νΈν•λ©΄ config serverλ” μ›λ‚  λ²„μ „μ μ„¤μ •κ°’λ“¤μ„ μ €μ¥ν•κ³  μμ–΄ μ–΄ν”λ¦¬μΌ€μ΄μ…λ“¤μ€ μ—…λ°μ΄νΈκ°€ μ•λλ‹¤.

κ·Έλ ‡λ‹¤λ©΄ μ—¬μ „ν λ μλ™μ μΌλ΅ μ—…λ°μ΄νΈν•΄μ•Όν•λ” κ²ƒμΈκ°€?

μ΄ λ¬Έμ λ” github webhookλ¥Ό μ΄μ©ν•΄μ„ ν•΄κ²°ν•  μ μλ‹¤. κΉƒκ°™μ€ μ €μ¥μ†μ—μ„ μ„¤μ •λ“¤μ΄ λ°”λ€λ©΄, config serverμ—κ² μ €μ¥μ†λ¥Ό λ‹¤μ‹ ν΄λ΅ ν•λΌλ” μ”μ²­μ„ μλ™μ μΌλ΅ λ³΄λ‚΄κ²λ” μ„¤μ •ν•κ³ , κ·Έ μ”μ²­μ„ λ°›μ€ config serverλ” μ–΄ν”λ¦¬μΌ€μ΄μ… λλ” spring cloud busμ—κ² μ—…λ°μ΄νΈ μ•λ¦Όμ„ λ³΄λ‚΄λ” λ°©μ‹μ΄λ‹¤. λ” μμ„Έν λ§ν•μλ©΄ κΉƒμ— pushκ°€ λλ©΄ config serverμ `/monitor` μ—”λ“ν¬μΈνΈλ΅ μ”μ²­μ„ λ³΄λ‚΄λ” webhookμ„ μ„¤μ •ν•λ” κ²ƒμ΄λ‹¤. 

<aside>
π’΅

**`/monitor` μ—”λ“ν¬μΈνΈ**

`spring-cloud-config-monitor` μμ΅΄μ„±μ€ spring cloud config serverμ—κ² `/monitor` μ—”λ“ν¬μΈνΈλ¥Ό μ κ³µν•λ‹¤. 

</aside>

---

## MSAμ—μ„ μ‚¬μ©ν•λ” μ΄μ 

μ΄λ° λ‹¨μ μ—λ„ λ¶κµ¬ν•κ³  MSAμ—μ„ Spring Cloud Configμ„ μ‚¬μ©ν•λ” μ΄μ λ”

- μ„¤μ •μ„ μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•μ—¬Β **μΌκ΄€μ„±**μ„ μ μ§€ν•κ³ , μ„¤μ • λ³€κ²½μ„ μ‰½κ² λ°μν•  μ μκΈ° λ•λ¬Έμ…λ‹λ‹¤.
- **λν•, λ™μ  κ°±μ‹ **κ³ΌΒ **λ²„μ „ κ΄€λ¦¬**λ¥Ό ν†µν•΄ κ΄€λ¦¬ ν¨μ¨μ„±μ„ λ†’μ΄κ³ ,
- ν™κ²½λ³„ μ„¤μ •μ„ λ¶„λ¦¬ν•μ—¬ μ μ©ν•  μ μκΈ° λ•λ¬Έμ…λ‹λ‹¤.

---

## κµ¬ν„

### 1. Spring Cloud Config μ„λ²„ μƒμ„±

**1.1 Spring Boot ν”„λ΅μ νΈ μƒμ„± λ° μμ΅΄μ„± μ¶”κ°€**

- ν•„μ”ν• μμ΅΄μ„±:
    - Spring Web
    - Spring Cloud Config Server
    - Spring Boot Actuator

**1.2** `@EnableConfigServer`Β μ• λ„ν…μ΄μ… μ¶”κ°€

- Spring Cloud Config μ„λ²„μ—μ„ μ„¤μ • νμΌμ„ μ κ³µν•λ ¤λ©΄,Β `@EnableConfigServer`Β μ• λ„ν…μ΄μ…μ„ μ¶”κ°€ν•΄μ•Ό ν•©λ‹λ‹¤.
    
    ```java
    import org.springframework.boot.SpringApplication;
    import org.springframework.boot.autoconfigure.SpringBootApplication;
    import org.springframework.cloud.config.server.EnableConfigServer;
    
    @SpringBootApplication
    @EnableConfigServer
    public class ConfigServerApplication {
        public static void main(String[] args) {
            SpringApplication.run(ConfigServerApplication.class, args);
        }
    }
    ```
    

**1.3** `application.yml`Β μ„¤μ •

- Config μ„λ²„κ°€ μ‚¬μ©ν•λ”Β `application.yml`Β νμΌμ„ μ„¤μ •ν•©λ‹λ‹¤.
- μ΄λ•, μ΄ νμΌμ—μ„λ” μ„¤μ • μ €μ¥μ†(Git λλ” νμΌ μ‹μ¤ν…)μ κ²½λ΅λ¥Ό μ§€μ •ν•΄μ•Ό ν•©λ‹λ‹¤.
    
    ```yaml
    # application.yml
    server:
      port: 8888
    
    spring:
      cloud:
        config:
          server:
            git:
              uri: https://github.com/your-username/your-repo  # Git μ €μ¥μ† URL
              username: your-github-username
              password: ${GITHUB_TOKEN}
              clone-on-start: true 
    ```
    
    - μ„¤μ • μ €μ¥μ† (ex. github)λ” λ³΄μ•μƒ privateμΈ κ²ƒμ΄ μΆ‹κ³ , config serverκ°€ ν•΄λ‹Ή μ €μ¥μ†μ— μ ‘κ·Όν•λ ¤λ©΄ ν† ν°μ΄ ν•„μ”ν•λ‹¤. ν•΄λ‹Ή ν† ν°μ„ μ‚¬μ©ν•  μ μκ²λ” ν™κ²½λ³€μν™”ν•λ” κ²ƒμ΄ μΆ‹μ
    - `clone-on-start`
        - 

**1.5 Config μ„λ²„ μ‹¤ν–‰**

- Config μ„λ²„λ¥Ό μ‹¤ν–‰ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ΄ μ„λ²„μ—μ„ μ„¤μ •μ„ κ°€μ Έμ¬ μ μμµλ‹λ‹¤.
- κΈ°λ³Έμ μΌλ΅Β `http://localhost:8888`μ—μ„ μ„¤μ • νμΌμ„ μ”μ²­ν•  μ μμµλ‹λ‹¤

### 2. **Spring Cloud Config ν΄λΌμ΄μ–ΈνΈ μ„¤μ •**

**2.1 ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ— μμ΅΄μ„± μ¶”κ°€**

- ν΄λΌμ΄μ–ΈνΈκ°€ Spring Cloud Configλ¥Ό μ‚¬μ©ν•λ ¤λ©΄Β `spring-cloud-starter-config`Β μμ΅΄μ„±μ„ μ¶”κ°€ν•΄μ•Ό ν•©λ‹λ‹¤.

**2.2 Config μ„λ²„ μ£Όμ† μ„¤μ •**

```yaml
spring:
  cloud:
    config:
      uri: http://config-server:8888 
```

- μ΄λ ‡κ² config μ„λ²„ urlμ„ μ„¤μ •ν•΄λ†“μΌλ©΄, ν΄λΌμ΄μ–ΈνΈλ” μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹ `bootstrap.yml` μ΄λ‚ **`application.yml`**Β κ°™μ€ μ„¤μ • νμΌμ„ Config μ„λ²„μ—μ„ κ°€μ Έμ¤κ² λ©λ‹λ‹¤.
- Config μ„λ²„λ” Git λλ” νμΌ μ‹μ¤ν…μ—μ„ μ„¤μ • νμΌμ„ μ½μ–΄μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² JSON ν•μ‹μΌλ΅ μ‘λ‹µμ„ λ³΄λƒ…λ‹λ‹¤.
- Spring Cloud Configλ”Β **μ„¤μ • μ„λ²„μ—μ„ κ°€μ Έμ¨ μ„¤μ •**μ„ ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μΒ **ν™κ²½ λ³€μ**λ΅ μ„¤μ •ν•©λ‹λ‹¤.
    - μ΄ μ„¤μ •μ€Β **`@Value`,Β `@ConfigurationProperties`**Β λ“±μ λ°©λ²•μΌλ΅ μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“μ—μ„ μ‚¬μ©λ  μ μμµλ‹λ‹¤.
    
    ```yaml
    # application.yml (Config μ„λ²„μ—μ„ μ κ³µ)
    my:
      app:
        message: "Hello from Config Server"
    ```
    
    ```java
    // ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ ν•΄λ‹Ή μ„¤μ • κ°’ μ‚¬μ©
    @Value("${my.app.message}")
    private String message;
    
    @PostConstruct
    public void printMessage() {
        System.out.println(message);  // "Hello from Config Server"
    }
    ```
    

### **3. μ„¤μ • λ³€κ²½ μ‹ ν΄λΌμ΄μ–ΈνΈμ λ™μ  κ°±μ‹  (μµμ…)**

Spring Cloud Configλ” μ„¤μ • λ³€κ²½μ„Β **μ¦‰μ‹ λ°μ**ν•  μ μλ” λ°©λ²•μ„ μ κ³µν•©λ‹λ‹¤. μ΄λ¥Ό μ„ν•΄μ„  μ•„λ μ„Έ κ°€μ§€ κ³Όμ •μ„ ν•΄μ•Ό ν•©λ‹λ‹¤.

**3.1 `@RefreshScope`Β μ‚¬μ©**

```java
@RefreshScope
@RestController
public class MyController {
    @Value("${my.app.message}")
    private String message;

    @RequestMapping("/message")
    public String getMessage() {
        return message;
    }
}
```

**3.2 `/actuator/refresh`Β μ—”λ“ν¬μΈνΈ ν™μ„±ν™”**

- `@RefreshScope`λ§μΌλ΅λ” μλ™μΌλ΅ μ„¤μ •μ„ κ°±μ‹ ν•  μ μ—†μµλ‹λ‹¤.Β **`/actuator/refresh`Β μ—”λ“ν¬μΈνΈ**λ¥Ό ν™μ„±ν™”ν•΄μ•Ό ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ„¤μ • μ„λ²„μ—μ„ μµμ‹  μ„¤μ •μ„Β **λ™μ μΌλ΅**Β λ°›μ•„μ¬ μ μμµλ‹λ‹¤.
- `application.yml`Β λλ”Β `application.properties`μ— μ•„λμ™€ κ°™μ΄ μ„¤μ •ν•μ—¬Β **`/actuator/refresh`Β μ—”λ“ν¬μΈνΈ**λ¥Ό ν™μ„±ν™”ν•©λ‹λ‹¤
- μ΄ μ„¤μ •μ΄ μμΌλ©΄ ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ€Β `/actuator/refresh`Β μ—”λ“ν¬μΈνΈλ¥Ό κ³µμ ν•λ©΄ spring cloud busκ°€ μ΄ λ³€κ²½ μ‚¬ν•­μ„ λ©”μ‹μ§• μ‹μ¤ν…(μ: RabbitMQ)μ„ ν†µν•΄ **λ¨λ“  ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…**μ— μ „νν•κ³ , **Client μ• ν”λ¦¬μΌ€μ΄μ…**μ—μ„λ” **`/actuator/refresh`** μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ„¤μ • λ³€κ²½μ„ κ°μ§€ν•κ³ , `@RefreshScope`λ΅ μ„¤μ •λ λΉλ“¤μ΄ μλ™μΌλ΅ μƒλ΅ κ³ μ³μ§‘λ‹λ‹¤.

μµμ‹  μ„¤μ •μ„Β **λ™μ μΌλ΅ λ΅λ“**ν•  μ μμµλ‹λ‹¤.

```yaml
management:
  endpoints:
    web:
      exposure:
        include: "refresh"  # refresh μ—”λ“ν¬μΈνΈ ν™μ„±ν™”
```
